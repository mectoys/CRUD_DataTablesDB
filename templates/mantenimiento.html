{% extends './base.html' %}
{% block title %}Mantenimiento {% endblock %}
{% block body %}

<!-- Contenedor principal -->
    <!-- Div centrado con color llamativo y título -->
    <div class="text-center bg-primary text-white  ">
            <!-- Reducir el tamaño del título al 50% -->
            <h1 class="display-5">Mantenimiento Bancos</h1>
    </div>

<div class="row">
    <div class="col-md-3 mb-3">
      <label for="txtBank" class="form-label" >Bank Name:</label>
      <input type="text" class="form-control" id="txtBank" name="txtBank">
    </div>
</div>

<div class="row">
    <div class="col-md-3 mb-3">
      <button id="addRow" class="btn btn-primary mr-2">Add</button>
      <button id="editRow" class="btn btn-primary mr-2">Edit</button>
      <button id="delRow" class="btn btn-primary mr-2">Remove</button>
    </div>
</div>

 <div class="row">
     <div class="col-sm-12">
         <table id="table_id" class="display" style="width:100%">
             <thead>
             <tr>
                 <th>Code Bank</th>
                  <th>Bank Name</th>
             </tr>
             <tbody>
                {% for row in banks %}
                <tr>
                     <td>{{ row.IDBCO }}</td>
                    <td>{{ row.DESCRIPCION }}</td>
                </tr>
                {%  endfor %}
             </tbody>
             </thead>


         </table>

            </div>
     </div>
<script>

     $(document).ready(function () {
       var table= $('#table_id').DataTable({
            ordering:false

        } );
         txtStock
        var bank= $('#txtBank');


        $('#table_id tbody').on('click','tr',function(){
          if ($(this).hasClass('selected')){
              $(this).removeClass('selected');
          }
          else{
             table.$('tr.selected').removeClass('selected');
             $(this).addClass('selected');
             var data = table.row(this).data();
             txtBank.val(data[0]);

          }
        });


        $('#addRow').on('click',function (){
            var newBank = bank.val()
            ClearText();
        });

        $('#editRow').on('click',function (){
           var newBank = bank.val()
            var selectedRow = table.row('.selected');

            if(selectedRow.any()){
                selectedRow.data([newBank]).draw();

                ClearText();
            }
        });

        $('#delRow').on('click',function (){
            table.row('.selected').remove().draw();

        });
        function ClearText(){
             bank.val("")

        }
    });
</script>

{% endblock %}